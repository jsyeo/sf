---
title     : "Modules: Modules and List Examples"
layout    : page
permalink : /Modules/
---

** Turn this into a Setoid example. Copy equivalence relation and setoid
from the standard library. **

<pre class="Agda">{% raw %}<a id="215" class="Keyword">module</a> <a id="222" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}" class="Module">plta.Modules</a> <a id="235" class="Keyword">where</a>{% endraw %}</pre>

This chapter introduces modules as a way of structuring proofs,
and proves some general results which will be useful later.

## Imports

<pre class="Agda">{% raw %}<a id="403" class="Keyword">import</a> <a id="410" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="448" class="Symbol">as</a> <a id="451" class="Module">Eq</a>
<a id="454" class="Keyword">open</a> <a id="459" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="462" class="Keyword">using</a> <a id="468" class="Symbol">(</a><a id="469" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="472" class="Symbol">;</a> <a id="474" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="478" class="Symbol">;</a> <a id="480" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a><a id="483" class="Symbol">;</a> <a id="485" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a><a id="490" class="Symbol">;</a> <a id="492" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a><a id="496" class="Symbol">)</a>
<a id="498" class="Keyword">open</a> <a id="503" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3861" class="Module">Eq.≡-Reasoning</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a> <a id="539" class="Keyword">using</a> <a id="545" class="Symbol">(</a><a id="546" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="547" class="Symbol">;</a> <a id="549" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="553" class="Symbol">;</a> <a id="555" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="558" class="Symbol">;</a> <a id="560" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#230" class="Primitive Operator">_+_</a><a id="563" class="Symbol">;</a> <a id="565" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#433" class="Primitive Operator">_*_</a><a id="568" class="Symbol">;</a> <a id="570" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#320" class="Primitive Operator">_∸_</a><a id="573" class="Symbol">;</a> <a id="575" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#802" class="Datatype Operator">_≤_</a><a id="578" class="Symbol">;</a> <a id="580" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#875" class="InductiveConstructor">s≤s</a><a id="583" class="Symbol">;</a> <a id="585" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#833" class="InductiveConstructor">z≤n</a><a id="588" class="Symbol">)</a>
<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬_</a><a id="628" class="Symbol">)</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="655" class="Keyword">using</a> <a id="661" class="Symbol">(</a><a id="662" href="https://agda.github.io/agda-stdlib/Data.Product.html#1329" class="Function Operator">_×_</a><a id="665" class="Symbol">)</a> <a id="667" class="Keyword">renaming</a> <a id="676" class="Symbol">(</a><a id="677" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">_,_</a> <a id="681" class="Symbol">to</a> <a id="684" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="689" class="Symbol">)</a>
<a id="691" class="Keyword">open</a> <a id="696" class="Keyword">import</a> <a id="703" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Isomorphism.md %}{% raw %}" class="Module">plta.Isomorphism</a> <a id="720" class="Keyword">using</a> <a id="726" class="Symbol">(</a><a id="727" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Isomorphism.md %}{% raw %}#1098" class="Record Operator">_≃_</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a> <a id="753" class="Keyword">using</a> <a id="759" class="Symbol">(</a><a id="760" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">_∘_</a><a id="763" class="Symbol">)</a>
<a id="765" class="Keyword">open</a> <a id="770" class="Keyword">import</a> <a id="777" href="https://agda.github.io/agda-stdlib/Level.html" class="Module">Level</a> <a id="783" class="Keyword">using</a> <a id="789" class="Symbol">(</a><a id="790" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="795" class="Symbol">)</a>
<a id="797" class="Keyword">open</a> <a id="802" class="Keyword">import</a> <a id="809" href="https://agda.github.io/agda-stdlib/Data.Maybe.html" class="Module">Data.Maybe</a> <a id="820" class="Keyword">using</a> <a id="826" class="Symbol">(</a><a id="827" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#335" class="Datatype">Maybe</a><a id="832" class="Symbol">;</a> <a id="834" href="https://agda.github.io/agda-stdlib/Data.Maybe.html#1603" class="InductiveConstructor">just</a><a id="838" class="Symbol">;</a> <a id="840" href="https://agda.github.io/agda-stdlib/Data.Maybe.html#1664" class="InductiveConstructor">nothing</a><a id="847" class="Symbol">)</a>
<a id="849" class="Keyword">open</a> <a id="854" class="Keyword">import</a> <a id="861" href="https://agda.github.io/agda-stdlib/Data.List.html" class="Module">Data.List</a> <a id="871" class="Keyword">using</a> <a id="877" class="Symbol">(</a><a id="878" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#80" class="Datatype">List</a><a id="882" class="Symbol">;</a> <a id="884" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#7506" class="InductiveConstructor">[]</a><a id="886" class="Symbol">;</a> <a id="888" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#132" class="InductiveConstructor Operator">_∷_</a><a id="891" class="Symbol">;</a> <a id="893" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#1391" class="Function Operator">_++_</a><a id="897" class="Symbol">;</a> <a id="899" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#1057" class="Function">map</a><a id="902" class="Symbol">;</a> <a id="904" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#2376" class="Function">foldr</a><a id="909" class="Symbol">;</a> <a id="911" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#4942" class="Function">downFrom</a><a id="919" class="Symbol">)</a>
<a id="921" class="Keyword">open</a> <a id="926" class="Keyword">import</a> <a id="933" href="https://agda.github.io/agda-stdlib/Data.List.All.html" class="Module">Data.List.All</a> <a id="947" class="Keyword">using</a> <a id="953" class="Symbol">(</a><a id="954" href="https://agda.github.io/agda-stdlib/Data.List.All.html#763" class="Datatype">All</a><a id="957" class="Symbol">;</a> <a id="959" href="https://agda.github.io/agda-stdlib/Data.List.All.html#841" class="InductiveConstructor">[]</a><a id="961" class="Symbol">;</a> <a id="963" href="https://agda.github.io/agda-stdlib/Data.List.All.html#858" class="InductiveConstructor Operator">_∷_</a><a id="966" class="Symbol">)</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="https://agda.github.io/agda-stdlib/Data.List.Any.html" class="Module">Data.List.Any</a> <a id="994" class="Keyword">using</a> <a id="1000" class="Symbol">(</a><a id="1001" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#693" class="Datatype">Any</a><a id="1004" class="Symbol">;</a> <a id="1006" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#748" class="InductiveConstructor">here</a><a id="1010" class="Symbol">;</a> <a id="1012" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a><a id="1017" class="Symbol">)</a>{% endraw %}</pre>

We assume [extensionality][extensionality].
<pre class="Agda">{% raw %}<a id="1088" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="1100" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1100" class="Postulate">extensionality</a> <a id="1115" class="Symbol">:</a> <a id="1117" class="Symbol">∀</a> <a id="1119" class="Symbol">{</a><a id="1120" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1120" class="Bound">A</a> <a id="1122" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1122" class="Bound">B</a> <a id="1124" class="Symbol">:</a> <a id="1126" class="PrimitiveType">Set</a><a id="1129" class="Symbol">}</a> <a id="1131" class="Symbol">{</a><a id="1132" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1132" class="Bound">f</a> <a id="1134" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1134" class="Bound">g</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1120" class="Bound">A</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1122" class="Bound">B</a><a id="1143" class="Symbol">}</a> <a id="1145" class="Symbol">→</a> <a id="1147" class="Symbol">(∀</a> <a id="1150" class="Symbol">(</a><a id="1151" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1151" class="Bound">x</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1120" class="Bound">A</a><a id="1156" class="Symbol">)</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1132" class="Bound">f</a> <a id="1162" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1151" class="Bound">x</a> <a id="1164" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1166" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1134" class="Bound">g</a> <a id="1168" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1151" class="Bound">x</a><a id="1169" class="Symbol">)</a> <a id="1171" class="Symbol">→</a> <a id="1173" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1132" class="Bound">f</a> <a id="1175" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1177" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1134" class="Bound">g</a>{% endraw %}</pre>

[extensionality]: {{ site.baseurl }}{% link out/plta/Equality.md %}#extensionality



## Modules

Let's say we want to prove some standard results about collections of
elements of a given type at a given universe level with a given
equivalence relation for equality. One way to do so is to begin every
signature with a suitable sequence of implicit parameters.  Here are
some definitions, where we represent collections as lists.  (We would
call collections *sets*, save that the name `Set` already plays a
special role in Agda.)

<pre class="Agda">{% raw %}<a id="Coll′"></a><a id="1735" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1735" class="Function">Coll′</a> <a id="1741" class="Symbol">:</a> <a id="1743" class="Symbol">∀</a> <a id="1745" class="Symbol">{</a><a id="1746" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1746" class="Bound">ℓ</a> <a id="1748" class="Symbol">:</a> <a id="1750" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="1755" class="Symbol">}</a> <a id="1757" class="Symbol">→</a> <a id="1759" class="PrimitiveType">Set</a> <a id="1763" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1746" class="Bound">ℓ</a> <a id="1765" class="Symbol">→</a> <a id="1767" class="PrimitiveType">Set</a> <a id="1771" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1746" class="Bound">ℓ</a>
<a id="1773" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1735" class="Function">Coll′</a> <a id="1779" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1779" class="Bound">A</a>  <a id="1782" class="Symbol">=</a>  <a id="1785" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1790" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1779" class="Bound">A</a>

<a id="_∈′_"></a><a id="1793" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1793" class="Function Operator">_∈′_</a> <a id="1798" class="Symbol">:</a> <a id="1800" class="Symbol">∀</a> <a id="1802" class="Symbol">{</a><a id="1803" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1803" class="Bound">ℓ</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="1812" class="Symbol">}</a> <a id="1814" class="Symbol">{</a><a id="1815" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1815" class="Bound">A</a> <a id="1817" class="Symbol">:</a> <a id="1819" class="PrimitiveType">Set</a> <a id="1823" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1803" class="Bound">ℓ</a><a id="1824" class="Symbol">}</a> <a id="1826" class="Symbol">{</a><a id="1827" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1827" class="Bound Operator">_≈_</a> <a id="1831" class="Symbol">:</a> <a id="1833" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1815" class="Bound">A</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1815" class="Bound">A</a> <a id="1839" class="Symbol">→</a> <a id="1841" class="PrimitiveType">Set</a> <a id="1845" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1803" class="Bound">ℓ</a><a id="1846" class="Symbol">}</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1815" class="Bound">A</a> <a id="1852" class="Symbol">→</a> <a id="1854" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1735" class="Function">Coll′</a> <a id="1860" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1815" class="Bound">A</a> <a id="1862" class="Symbol">→</a> <a id="1864" class="PrimitiveType">Set</a> <a id="1868" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1803" class="Bound">ℓ</a>
<a id="1870" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1793" class="Function Operator">_∈′_</a> <a id="1875" class="Symbol">{</a><a id="1876" class="Argument">_≈_</a> <a id="1880" class="Symbol">=</a> <a id="1882" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1882" class="Bound Operator">_≈_</a><a id="1885" class="Symbol">}</a> <a id="1887" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1887" class="Bound">x</a> <a id="1889" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1889" class="Bound">xs</a>  <a id="1893" class="Symbol">=</a>  <a id="1896" href="https://agda.github.io/agda-stdlib/Data.List.All.html#763" class="Datatype">All</a> <a id="1900" class="Symbol">(</a><a id="1901" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1887" class="Bound">x</a> <a id="1903" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1882" class="Bound Operator">≈_</a><a id="1905" class="Symbol">)</a> <a id="1907" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1889" class="Bound">xs</a>

<a id="_⊆′_"></a><a id="1911" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1911" class="Function Operator">_⊆′_</a> <a id="1916" class="Symbol">:</a> <a id="1918" class="Symbol">∀</a> <a id="1920" class="Symbol">{</a><a id="1921" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1921" class="Bound">ℓ</a> <a id="1923" class="Symbol">:</a> <a id="1925" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="1930" class="Symbol">}</a> <a id="1932" class="Symbol">{</a><a id="1933" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1933" class="Bound">A</a> <a id="1935" class="Symbol">:</a> <a id="1937" class="PrimitiveType">Set</a> <a id="1941" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1921" class="Bound">ℓ</a><a id="1942" class="Symbol">}</a> <a id="1944" class="Symbol">{</a><a id="1945" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1945" class="Bound Operator">_≈_</a> <a id="1949" class="Symbol">:</a> <a id="1951" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1933" class="Bound">A</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1933" class="Bound">A</a> <a id="1957" class="Symbol">→</a> <a id="1959" class="PrimitiveType">Set</a> <a id="1963" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1921" class="Bound">ℓ</a><a id="1964" class="Symbol">}</a> <a id="1966" class="Symbol">→</a> <a id="1968" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1735" class="Function">Coll′</a> <a id="1974" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1933" class="Bound">A</a> <a id="1976" class="Symbol">→</a> <a id="1978" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1735" class="Function">Coll′</a> <a id="1984" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1933" class="Bound">A</a> <a id="1986" class="Symbol">→</a> <a id="1988" class="PrimitiveType">Set</a> <a id="1992" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1921" class="Bound">ℓ</a>
<a id="1994" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1911" class="Function Operator">_⊆′_</a> <a id="1999" class="Symbol">{</a><a id="2000" class="Argument">_≈_</a> <a id="2004" class="Symbol">=</a> <a id="2006" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2006" class="Bound Operator">_≈_</a><a id="2009" class="Symbol">}</a> <a id="2011" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2011" class="Bound">xs</a> <a id="2014" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2014" class="Bound">ys</a>  <a id="2018" class="Symbol">=</a>  <a id="2021" class="Symbol">∀</a> <a id="2023" class="Symbol">{</a><a id="2024" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2024" class="Bound">w</a><a id="2025" class="Symbol">}</a> <a id="2027" class="Symbol">→</a> <a id="2029" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1793" class="Function Operator">_∈′_</a>  <a id="2035" class="Symbol">{</a><a id="2036" class="Argument">_≈_</a> <a id="2040" class="Symbol">=</a> <a id="2042" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2006" class="Bound Operator">_≈_</a><a id="2045" class="Symbol">}</a> <a id="2047" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2024" class="Bound">w</a> <a id="2049" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2011" class="Bound">xs</a> <a id="2052" class="Symbol">→</a> <a id="2054" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#1793" class="Function Operator">_∈′_</a> <a id="2059" class="Symbol">{</a><a id="2060" class="Argument">_≈_</a> <a id="2064" class="Symbol">=</a> <a id="2066" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2006" class="Bound Operator">_≈_</a><a id="2069" class="Symbol">}</a> <a id="2071" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2024" class="Bound">w</a> <a id="2073" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2014" class="Bound">ys</a>{% endraw %}</pre>

This rapidly gets tired.  Passing around the equivalence relation `_≈_`
takes a lot of space, hinders the use of infix notation, and obscures the
essence of the definitions.

Instead, we can define a module parameterised by the desired concepts,
which are then available throughout.
<pre class="Agda">{% raw %}<a id="2384" class="Keyword">module</a> <a id="Collection"></a><a id="2391" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2391" class="Module">Collection</a> <a id="2402" class="Symbol">{</a><a id="2403" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2403" class="Bound">ℓ</a> <a id="2405" class="Symbol">:</a> <a id="2407" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="2412" class="Symbol">}</a> <a id="2414" class="Symbol">(</a><a id="2415" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2417" class="Symbol">:</a> <a id="2419" class="PrimitiveType">Set</a> <a id="2423" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2403" class="Bound">ℓ</a><a id="2424" class="Symbol">)</a> <a id="2426" class="Symbol">(</a><a id="2427" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2427" class="Bound Operator">_≈_</a> <a id="2431" class="Symbol">:</a> <a id="2433" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2435" class="Symbol">→</a> <a id="2437" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2439" class="Symbol">→</a> <a id="2441" class="PrimitiveType">Set</a> <a id="2445" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2403" class="Bound">ℓ</a><a id="2446" class="Symbol">)</a> <a id="2448" class="Keyword">where</a>

  <a id="Collection.Coll"></a><a id="2457" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2457" class="Function">Coll</a> <a id="2462" class="Symbol">:</a> <a id="2464" class="Symbol">∀</a> <a id="2466" class="Symbol">{</a><a id="2467" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2467" class="Bound">ℓ</a> <a id="2469" class="Symbol">:</a> <a id="2471" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#408" class="Postulate">Level</a><a id="2476" class="Symbol">}</a> <a id="2478" class="Symbol">→</a> <a id="2480" class="PrimitiveType">Set</a> <a id="2484" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2467" class="Bound">ℓ</a> <a id="2486" class="Symbol">→</a> <a id="2488" class="PrimitiveType">Set</a> <a id="2492" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2467" class="Bound">ℓ</a>
  <a id="2496" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2457" class="Function">Coll</a> <a id="2501" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2501" class="Bound">A</a>  <a id="2504" class="Symbol">=</a>  <a id="2507" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2512" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2501" class="Bound">A</a>

  <a id="Collection._∈_"></a><a id="2517" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2517" class="Function Operator">_∈_</a> <a id="2521" class="Symbol">:</a> <a id="2523" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2525" class="Symbol">→</a> <a id="2527" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2457" class="Function">Coll</a> <a id="2532" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2534" class="Symbol">→</a> <a id="2536" class="PrimitiveType">Set</a> <a id="2540" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2403" class="Bound">ℓ</a>
  <a id="2544" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2544" class="Bound">x</a> <a id="2546" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2517" class="Function Operator">∈</a> <a id="2548" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2548" class="Bound">xs</a>  <a id="2552" class="Symbol">=</a>  <a id="2555" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#693" class="Datatype">Any</a> <a id="2559" class="Symbol">(</a><a id="2560" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2544" class="Bound">x</a> <a id="2562" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2427" class="Bound Operator">≈_</a><a id="2564" class="Symbol">)</a> <a id="2566" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2548" class="Bound">xs</a>

  <a id="Collection._⊆_"></a><a id="2572" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2572" class="Function Operator">_⊆_</a> <a id="2576" class="Symbol">:</a> <a id="2578" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2457" class="Function">Coll</a> <a id="2583" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2585" class="Symbol">→</a> <a id="2587" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2457" class="Function">Coll</a> <a id="2592" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2415" class="Bound">A</a> <a id="2594" class="Symbol">→</a> <a id="2596" class="PrimitiveType">Set</a> <a id="2600" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2403" class="Bound">ℓ</a>
  <a id="2604" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2604" class="Bound">xs</a> <a id="2607" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2572" class="Function Operator">⊆</a> <a id="2609" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2609" class="Bound">ys</a>  <a id="2613" class="Symbol">=</a>  <a id="2616" class="Symbol">∀</a> <a id="2618" class="Symbol">{</a><a id="2619" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2619" class="Bound">w</a><a id="2620" class="Symbol">}</a> <a id="2622" class="Symbol">→</a> <a id="2624" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2619" class="Bound">w</a> <a id="2626" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2517" class="Function Operator">∈</a> <a id="2628" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2604" class="Bound">xs</a> <a id="2631" class="Symbol">→</a> <a id="2633" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2619" class="Bound">w</a> <a id="2635" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2517" class="Function Operator">∈</a> <a id="2637" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2609" class="Bound">ys</a>{% endraw %}</pre>

Use of a module
<pre class="Agda">{% raw %}<a id="2681" class="Keyword">open</a> <a id="2686" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2391" class="Module">Collection</a> <a id="2697" class="Symbol">(</a><a id="2698" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="2699" class="Symbol">)</a> <a id="2701" class="Symbol">(</a><a id="2702" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="2705" class="Symbol">)</a>

<a id="2708" class="Keyword">pattern</a> <a id="[_]"></a><a id="2716" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2716" class="InductiveConstructor Operator">[_]</a> <a id="2720" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2726" class="Bound">x</a>  <a id="2723" class="Symbol">=</a>  <a id="2726" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2726" class="Bound">x</a> <a id="2728" class="InductiveConstructor Operator">∷</a> <a id="2730" class="InductiveConstructor">[]</a>
<a id="2733" class="Keyword">pattern</a> <a id="[_,_]"></a><a id="2741" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2741" class="InductiveConstructor Operator">[_,_]</a> <a id="2747" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2755" class="Bound">x</a> <a id="2749" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2759" class="Bound">y</a>  <a id="2752" class="Symbol">=</a>  <a id="2755" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2755" class="Bound">x</a> <a id="2757" class="InductiveConstructor Operator">∷</a> <a id="2759" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2759" class="Bound">y</a> <a id="2761" class="InductiveConstructor Operator">∷</a> <a id="2763" class="InductiveConstructor">[]</a>
<a id="2766" class="Keyword">pattern</a> <a id="[_,_,_]"></a><a id="2774" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2774" class="InductiveConstructor Operator">[_,_,_]</a> <a id="2782" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2792" class="Bound">x</a> <a id="2784" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2796" class="Bound">y</a> <a id="2786" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2800" class="Bound">z</a>  <a id="2789" class="Symbol">=</a>  <a id="2792" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2792" class="Bound">x</a> <a id="2794" class="InductiveConstructor Operator">∷</a> <a id="2796" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2796" class="Bound">y</a> <a id="2798" class="InductiveConstructor Operator">∷</a> <a id="2800" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2800" class="Bound">z</a> <a id="2802" class="InductiveConstructor Operator">∷</a> <a id="2804" class="InductiveConstructor">[]</a>

<a id="ex"></a><a id="2808" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2808" class="Function">ex</a> <a id="2811" class="Symbol">:</a> <a id="2813" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2741" class="InductiveConstructor Operator">[</a> <a id="2815" class="Number">1</a> <a id="2817" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2741" class="InductiveConstructor Operator">,</a> <a id="2819" class="Number">3</a> <a id="2821" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2741" class="InductiveConstructor Operator">]</a> <a id="2823" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2572" class="Function Operator">⊆</a> <a id="2825" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2774" class="InductiveConstructor Operator">[</a> <a id="2827" class="Number">1</a> <a id="2829" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2774" class="InductiveConstructor Operator">,</a> <a id="2831" class="Number">2</a> <a id="2833" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2774" class="InductiveConstructor Operator">,</a> <a id="2835" class="Number">3</a> <a id="2837" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2774" class="InductiveConstructor Operator">]</a>
<a id="2839" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2808" class="Function">ex</a> <a id="2842" class="Symbol">(</a><a id="2843" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2848" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="2852" class="Symbol">)</a>          <a id="2863" class="Symbol">=</a>  <a id="2866" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2871" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="2876" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2808" class="Function">ex</a> <a id="2879" class="Symbol">(</a><a id="2880" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2886" class="Symbol">(</a><a id="2887" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2892" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="2896" class="Symbol">))</a>  <a id="2900" class="Symbol">=</a>  <a id="2903" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2909" class="Symbol">(</a><a id="2910" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2916" class="Symbol">(</a><a id="2917" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2922" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="2926" class="Symbol">))</a>
<a id="2929" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#2808" class="Function">ex</a> <a id="2932" class="Symbol">(</a><a id="2933" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2939" class="Symbol">(</a><a id="2940" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2946" class="Symbol">()))</a>{% endraw %}</pre>


## Abstract types

Say I want to define a type of stacks, with operations push and pop.
I can define stacks in terms of lists, but hide the definitions from
the rest of the program.
<pre class="Agda">{% raw %}<a id="3159" class="Keyword">abstract</a>

  <a id="Stack"></a><a id="3171" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3177" class="Symbol">:</a> <a id="3179" class="PrimitiveType">Set</a> <a id="3183" class="Symbol">→</a> <a id="3185" class="PrimitiveType">Set</a>
  <a id="3191" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3197" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3197" class="Bound">A</a> <a id="3199" class="Symbol">=</a> <a id="3201" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="3206" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3197" class="Bound">A</a>

  <a id="empty"></a><a id="3211" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3211" class="Function">empty</a> <a id="3217" class="Symbol">:</a> <a id="3219" class="Symbol">∀</a> <a id="3221" class="Symbol">{</a><a id="3222" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3222" class="Bound">A</a><a id="3223" class="Symbol">}</a> <a id="3225" class="Symbol">→</a> <a id="3227" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3233" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3222" class="Bound">A</a>
  <a id="3237" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3211" class="Function">empty</a> <a id="3243" class="Symbol">=</a> <a id="3245" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>

  <a id="push"></a><a id="3251" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3251" class="Function">push</a> <a id="3256" class="Symbol">:</a> <a id="3258" class="Symbol">∀</a> <a id="3260" class="Symbol">{</a><a id="3261" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3261" class="Bound">A</a><a id="3262" class="Symbol">}</a> <a id="3264" class="Symbol">→</a> <a id="3266" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3261" class="Bound">A</a> <a id="3268" class="Symbol">→</a> <a id="3270" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3276" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3261" class="Bound">A</a> <a id="3278" class="Symbol">→</a> <a id="3280" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3286" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3261" class="Bound">A</a>
  <a id="3290" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3251" class="Function">push</a> <a id="3295" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3295" class="Bound">x</a> <a id="3297" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3297" class="Bound">xs</a>  <a id="3301" class="Symbol">=</a>  <a id="3304" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3295" class="Bound">x</a> <a id="3306" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="3308" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3297" class="Bound">xs</a>

  <a id="pop"></a><a id="3314" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3314" class="Function">pop</a> <a id="3318" class="Symbol">:</a> <a id="3320" class="Symbol">∀</a> <a id="3322" class="Symbol">{</a><a id="3323" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3323" class="Bound">A</a><a id="3324" class="Symbol">}</a> <a id="3326" class="Symbol">→</a> <a id="3328" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3334" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3323" class="Bound">A</a> <a id="3336" class="Symbol">→</a> <a id="3338" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="3344" class="Symbol">(</a><a id="3345" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3323" class="Bound">A</a> <a id="3347" href="https://agda.github.io/agda-stdlib/Data.Product.html#1329" class="Function Operator">×</a> <a id="3349" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3171" class="Function">Stack</a> <a id="3355" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3323" class="Bound">A</a><a id="3356" class="Symbol">)</a>
  <a id="3360" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3314" class="Function">pop</a> <a id="3364" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>        <a id="3374" class="Symbol">=</a>  <a id="3377" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>
  <a id="3387" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3314" class="Function">pop</a> <a id="3391" class="Symbol">(</a><a id="3392" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3392" class="Bound">x</a> <a id="3394" href="https://agda.github.io/agda-stdlib/Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="3396" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3396" class="Bound">xs</a><a id="3398" class="Symbol">)</a>  <a id="3401" class="Symbol">=</a>  <a id="3404" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="3409" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">⟨</a> <a id="3411" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3392" class="Bound">x</a> <a id="3413" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="3415" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3396" class="Bound">xs</a> <a id="3418" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">⟩</a>

  <a id="lemma-pop-push"></a><a id="3423" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3423" class="Function">lemma-pop-push</a> <a id="3438" class="Symbol">:</a> <a id="3440" class="Symbol">∀</a> <a id="3442" class="Symbol">{</a><a id="3443" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3443" class="Bound">A</a><a id="3444" class="Symbol">}</a> <a id="3446" class="Symbol">{</a><a id="3447" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3447" class="Bound">x</a> <a id="3449" class="Symbol">:</a> <a id="3451" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3443" class="Bound">A</a><a id="3452" class="Symbol">}</a> <a id="3454" class="Symbol">{</a><a id="3455" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3455" class="Bound">xs</a><a id="3457" class="Symbol">}</a> <a id="3459" class="Symbol">→</a> <a id="3461" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3314" class="Function">pop</a> <a id="3465" class="Symbol">(</a><a id="3466" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3251" class="Function">push</a> <a id="3471" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3447" class="Bound">x</a> <a id="3473" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3455" class="Bound">xs</a><a id="3475" class="Symbol">)</a> <a id="3477" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3479" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="3484" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">⟨</a> <a id="3486" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3447" class="Bound">x</a> <a id="3488" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="3490" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3455" class="Bound">xs</a> <a id="3493" href="https://agda.github.io/agda-stdlib/Data.Product.html#543" class="InductiveConstructor Operator">⟩</a>
  <a id="3497" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3423" class="Function">lemma-pop-push</a> <a id="3512" class="Symbol">=</a> <a id="3514" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="lemma-pop-empty"></a><a id="3522" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3522" class="Function">lemma-pop-empty</a> <a id="3538" class="Symbol">:</a> <a id="3540" class="Symbol">∀</a> <a id="3542" class="Symbol">{</a><a id="3543" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3543" class="Bound">A</a><a id="3544" class="Symbol">}</a> <a id="3546" class="Symbol">→</a> <a id="3548" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3314" class="Function">pop</a> <a id="3552" class="Symbol">{</a><a id="3553" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3543" class="Bound">A</a><a id="3554" class="Symbol">}</a> <a id="3556" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3211" class="Function">empty</a> <a id="3562" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3564" href="https://agda.github.io/agda-stdlib/Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>
  <a id="3574" href="{% endraw %}{{ site.baseurl }}{% link out/plta/Modules.md %}{% raw %}#3522" class="Function">lemma-pop-empty</a> <a id="3590" class="Symbol">=</a> <a id="3592" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>{% endraw %}</pre>


## Standard Library

Definitions similar to those in this chapter can be found in the standard library.
<pre class="Agda">{% raw %}<a id="3727" class="Comment">-- EDIT</a>{% endraw %}</pre>
The standard library version of `IsMonoid` differs from the
one given here, in that it is also parameterised on an equivalence relation.


## Unicode

This chapter uses the following unicode.

    EDIT
    ∷  U+2237  PROPORTION  (\::)
    ⊗  U+2297  CIRCLED TIMES  (\otimes)
    ∈  U+2208  ELEMENT OF  (\in)
    ∉  U+2209  NOT AN ELEMENT OF  (\inn)
